# /* ---- ðŸ’« https://github.com/JaKooLit ðŸ’« ---- */  #
# For window rules and layerrules
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more

# NOTES: This is only for Hyprland > 0.48

# note for ja: This should NOT be implemented on Debian and Ubuntu

# windowrule - tags - add apps under appropriate tag to use the same settings
# browser tags
#windowrule = tag +browser, class:^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$

#windowrule {
#    name = firefox-tagging
#    match:class = ^([Ff]irefox|org\.mozilla\.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$
#    tag = +browser
#}
#windowrule = tag +browser, class:^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
#windowrule = tag +browser, class:^(chrome-.+-Default)$ # Chrome PWAs
#windowrule = tag +browser, class:^([Cc]hromium)$
#windowrule = tag +browser, class:^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
#windowrule = tag +browser, class:^(Brave-browser(-beta|-dev|-unstable)?)$

# Google Chromeï¼ˆstable / beta / dev / unstableï¼‰
#windowrulev2 = tag +browser, class=^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrule {
	name = google-chrome
	match:class = ^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
	tag = +browser
}

# Chrome PWAsï¼ˆProgressive Web Appsï¼‰
#windowrulev2 = tag +browser, class=^(chrome-.+-Default)$
windowrule {
	name = chrome
	match:class = ^(chrome-.+-Default)$
	tag = +browser
}
# Chromium
#windowrulev2 = tag +browser, class=^([Cc]hromium)$
windowrule {
	name = chromium
	match:class = ^([Cc]hromium)$
	tag = +browser
}

# Microsoft Edgeï¼ˆstable / beta / dev / unstableï¼‰
#windowrulev2 = tag +browser, class=^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$

windowrule {
	name = microsoft-edge
	match:class = ^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
	tag = +browser
}


# Brave Browserï¼ˆstable / beta / dev / unstableï¼‰
#windowrulev2 = tag +browser, class=^(Brave-browser(-beta|-dev|-unstable)?)$

windowrule {
	name = brave-browser
	match:class = ^(Brave-browser(-beta|-dev|-unstable)?)$
	tag = +browser
}

#windowrulev2 = tag +browser, class=^([Tt]horium-browser|[Cc]achy-browser)$
#windowrulev2 = tag +browser, class=^(zen-alpha|zen)$

# notif tags
#windowrulev2 = tag +notif, class=^(swaync-control-center|swaync-notification-window|swaync-client|class)$

windowrule {
	name = notif
	match:class =^(swaync-control-center|swaync-notification-window|swaync-client|class)$
	tag = +notif
}
# KooL settings tag
#windowrulev2 = tag +KooL_Cheat, title=^(KooL Quick Cheat Sheet)$
windowrule {
    name = kool-cheat-sheet
    match:title = ^(KooL Quick Cheat Sheet)$
    tag = +KooL_Cheat
}

windowrule {
    name = kool-settings-title
    match:title = ^(KooL Hyprland Settings)$
    tag = +KooL_Settings
}


windowrule {
    name = kool-settings-apps
    match:class = ^(nwg-displays|nwg-look)$
    tag = +KooL-Settings
}
# terminal tags
windowrule {
    name = terminal-tags
    match:class = ^(Alacritty|kitty|kitty-dropterm)$
    tag = +terminal
}

# email tags
windowrule {
    name = email-tags-primary
    match:class = ^([Tt]hunderbird|org.gnome.Evolution)$
    tag = +email
}
windowrule {
    name = email-tags-betterbird
    match:class = ^(eu.betterbird.Betterbird)$
    tag = +email
}

# project tags
windowrule {
    name = project-tags-codium
    match:class = ^(codium|codium-url-handler|VSCodium)$
    tag = +projects
}
windowrule {
    name = project-tags-vscode
    match:class = ^(VSCode|code-url-handler)$
    tag = +projects
}
windowrule {
    name = project-tags-jetbrains
    match:class = ^(jetbrains-.+)$ # JetBrains IDEs
    tag = +projects
}

# screenshare tags
windowrule {
    name = screenshare-tags
    match:class = ^(com.obsproject.Studio)$
    tag = +screenshare
}

# IM tags
windowrule {
    name = im-tags-discord
    match:class = ^([Dd]iscord|[Ww]ebCord|[Vv]esktop)$
    tag = +im
}
windowrule {
    name = im-tags-ferdium
    match:class = ^([Ff]erdium)$
    tag = +im
}
windowrule {
    name = im-tags-whatsapp
    match:class = ^([Ww]hatsapp-for-linux)$
    tag = +im
}
windowrule {
    name = im-tags-zapzap
    match:class = ^(ZapZap|com.rtosta.zapzap)$ 
    tag = +im
}
windowrule {
    name = im-tags-telegram
    match:class = ^(org.telegram.desktop|io.github.tdesktop_x64.TDesktop)$
    tag = +im
}
windowrule {
    name = im-tags-teams
    match:class = ^(teams-for-linux)$
    tag = +im
}

# game tags
windowrule {
    name = game-tags-scope
    match:class = ^(gamescope)$
    tag = +games
}
windowrule {
    name = game-tags-steam-apps
    match:class = ^(steam_app_\d+)$
    tag = +games
}

# gamestore tags
windowrule {
    name = gamestore-tags-steam
    match:class = ^([Ss]team)$
    tag = +gamestore
}
windowrule {
    name = gamestore-tags-lutris
    match:title = ^([Ll]utris)$
    tag = +gamestore
}
windowrule {
    name = gamestore-tags-heroic
    match:class = ^(com.heroicgameslauncher.hgl)$
    tag = +gamestore
}

# file-manager tags
windowrule {
    name = file-manager-tags-main
    match:class = ^([Tt]hunar|org.gnome.Nautilus|[Pp]cmanfm-qt)$
    tag = +file-manager
}
windowrule {
    name = file-manager-tags-warp
    match:class = ^(app.drey.Warp)$
    tag = +file-manager
}

# wallpaper tags
windowrule {
    name = wallpaper-tags
    match:class = ^([Ww]aytrogen)$
    tag = +wallpaper
}

# multimedia tags
windowrule {
    name = multimedia-tags
    match:class = ^([Aa]udacious)$
    tag = +multimedia
}

# multimedia-video tags
windowrule {
    name = multimedia-video-tags
    match:class = ^([Mm]pv|vlc)$
    tag = +multimedia_video
}

# settings tags
windowrule {
    name = settings-tags-rog
    match:title = ^(ROG Control)$
    tag = +settings
}
windowrule {
    name = settings-tags-hotspot
    match:class = ^(wihotspot(-gui)?)$ # wifi hotspot
    tag = +settings
}
windowrule {
    name = settings-tags-baobab
    match:class = ^([Bb]aobab|org.gnome.[Bb]aobab)$ # Disk usage analyzer
    tag = +settings
}
windowrule {
    name = settings-tags-disks
    match:class = ^(gnome-disks|wihotspot(-gui)?)$
    tag = +settings
}
windowrule {
    name = settings-tags-kvantum
    match:title = (Kvantum Manager)
    tag = +settings
}
windowrule {
    name = settings-tags-fileroller
    match:class = ^(file-roller|org.gnome.FileRoller)$ # archive manager
    tag = +settings
}
windowrule {
    name = settings-tags-managers
    match:class = ^(nm-applet|nm-connection-editor|blueman-manager)$
    tag = +settings
}
windowrule {
    name = settings-tags-audio
    match:class = ^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
    tag = +settings
}
windowrule {
    name = settings-tags-toolkits
    match:class = ^(qt5ct|qt6ct|[Yy]ad)$
    tag = +settings
}
windowrule {
    name = settings-tags-portal
    match:class = (xdg-desktop-portal-gtk)
    tag = +settings
}
windowrule {
    name = settings-tags-polkit
    match:class = ^(org.kde.polkit-kde-authentication-agent-1)$
    tag = +settings
}
windowrule {
    name = settings-tags-rofi
    match:class = ^([Rr]ofi)$
    tag = +settings
}

# viewer tags
windowrule {
    name = viewer-tags-monitor
    match:class = ^(gnome-system-monitor|org.gnome.SystemMonitor|io.missioncenter.MissionCenter)$ # system monitor
    tag = +viewer
}
windowrule {
    name = viewer-tags-evince
    match:class = ^(evince)$ # document viewer 
    tag = +viewer
}
windowrule {
    name = viewer-tags-images
    match:class = ^(eog|org.gnome.Loupe)$ # image viewer
    tag = +viewer
}

# Some special override rules
windowrule {
    name = video-no-blur
    match:tag = multimedia_video*
    #noblur = on
    opacity = 1.0 override
}

# POSITION
windowrule {
    name = pos-kool-cheat
    match:tag = KooL_Cheat*
    center = on
}
windowrule {
    name = pos-thunar-popups
    match:class = ([Tt]hunar)
    match:title = negative:(.*[Tt]hunar.*)
    center = on
}
windowrule {
    name = pos-rog-control
    match:title = ^(ROG Control)$
    center = on
}
windowrule {
    name = pos-kool-settings
    match:tag = KooL-Settings*
    center = on
}
windowrule {
    name = pos-keybindings
    match:title = ^(Keybindings)$
    center = on
}
windowrule {
    name = pos-audio-control
    match:class = ^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
    center = on
}
windowrule {
    name = pos-im-center
    match:class = ^([Ww]hatsapp-for-linux|ZapZap|com.rtosta.zapzap)$
    center = on
}
windowrule {
    name = pos-ferdium-center
    match:class = ^([Ff]erdium)$
    center = on
}
windowrule {
    name = pos-pip
    match:title = ^(Picture-in-Picture)$ 
    move = 72% 7%
}

# windowrule to avoid idle for fullscreen apps
windowrule {
    name = idle-inhibit-fs
    match:fullscreen = 1
    #idleinhibit = fullscreen
}

# windowrule move to workspace
windowrule {
    name = ws-email
    match:tag = email*
    workspace = 1
}
windowrule {
    name = ws-browser
    match:tag = browser*
    workspace = 2
}
windowrule {
    name = ws-gamestore
    match:tag = gamestore*
    workspace = 5
}
windowrule {
    name = ws-im
    match:tag = im*
    workspace = 7
}
windowrule {
    name = ws-games
    match:tag = games*
    workspace = 8
}

# windowrule move to workspace (silent)
windowrule {
    name = ws-screenshare-silent
    match:tag = screenshare*
    workspace = 4 silent
}
windowrule {
    name = ws-virt-manager-silent
    match:class = ^(virt-manager)$
    workspace = 6 silent
}
windowrule {
    name = ws-virt-manager-wrapped-silent
    match:class = ^(.virt-manager-wrapped)$
    workspace = 6 silent
}
windowrule {
    name = ws-multimedia-silent
    match:tag = multimedia*
    workspace = 9 silent
}

# FLOAT
windowrule {
    name = float-kool-cheat
    match:tag = KooL_Cheat*
    float = on
}
windowrule {
    name = float-wallpaper
    match:tag = wallpaper*
    float = on
}
windowrule {
    name = float-settings
    match:tag = settings*
    float = on
}
windowrule {
    name = float-viewer
    match:tag = viewer*
    float = on
}
windowrule {
    name = float-kool-settings
    match:tag = KooL-Settings*
    float = on
}
windowrule {
    name = float-misc
    match:class = ([Zz]oom|onedriver|onedriver-launcher)$
    float = on
}
windowrule {
    name = float-calculator
    match:class = (org.gnome.Calculator)
    match:title = (Calculator)
    float = on
}
windowrule {
    name = float-video-players
    match:class = ^(mpv|com.github.rafostar.Clapper)$
    float = on
}
windowrule {
    name = float-qalculate
    match:class = ^([Qq]alculate-gtk)$
    float = on
}
windowrule {
    name = float-ferdium
    match:class = ^([Ff]erdium)$
    float = on
}
windowrule {
    name = float-pip
    match:title = ^(Picture-in-Picture)$
    float = on
}

# windowrule - ######### float popups and dialogue #######
windowrule {
    name = popup-auth
    match:title = ^(Authentication Required)$
    float = on
    center = on
}
windowrule {
    name = popup-codium
    match:class = (codium|codium-url-handler|VSCodium)
    match:title = negative:(.*codium.*|.*VSCodium.*)
    float = on
}
windowrule {
    name = popup-heroic
    match:class = ^(com.heroicgameslauncher.hgl)$
    match:title = negative:(Heroic Games Launcher)
    float = on
}
windowrule {
    name = popup-steam
    match:class = ^([Ss]team)$
    match:title = negative:^([Ss]team)$
    float = on
}
windowrule {
    name = popup-thunar
    match:class = ([Tt]hunar)
    match:title = negative:(.*[Tt]hunar.*)
    float = on
}
windowrule {
    name = popup-vscode-add-folder
    match:title = ^(Add Folder to Workspace)$
    float = on
    size = 70% 60%
    center = on
}
windowrule {
    name = popup-save-as
    match:title = ^(Save As)$
    float = on
    size = 70% 60%
    center = on
}
windowrule {
    name = popup-open-files
    match:initial_title = (Open Files)
    float = on
    size = 70% 60%
}
windowrule {
    name = popup-sddm-bg
    match:title = ^(SDDM Background)$
    float = on
    center = on
    size = 16% 12%
}
# END of float popups and dialogue #######

# OPACITY
windowrule {
    name = opacity-browser
    match:tag = browser*
    opacity = 0.9 0.7
}
windowrule {
    name = opacity-projects
    match:tag = projects*
    opacity = 0.9 0.8
}
windowrule {
    name = opacity-im
    match:tag = im*
    opacity = 0.94 0.86
}
windowrule {
    name = opacity-multimedia
    match:tag = multimedia*
    opacity = 0.94 0.86
}
windowrule {
    name = opacity-filemanager
    match:tag = file-manager*
    opacity = 0.9 0.8
}
windowrule {
    name = opacity-kitty
    match:class = ^(kitty)$
    opacity = 0.8 0.7
}
windowrule {
    name = opacity-settings
    match:tag = settings*
    opacity = 0.8 0.7
}
windowrule {
    name = opacity-viewer
    match:tag = viewer*
    opacity = 0.82 0.75
}
windowrule {
    name = opacity-wallpaper
    match:tag = wallpaper*
    opacity = 0.9 0.7
}
windowrule {
    name = opacity-editors
    match:class = ^(gedit|org.gnome.TextEditor|mousepad)$
    opacity = 0.8 0.7
}
windowrule {
    name = opacity-deluge
    match:class = ^(deluge)$
    opacity = 0.9 0.8
}
windowrule {
    name = opacity-element
    match:class = ^(im.riot.Riot)$
    opacity = 0.9 0.8
}
windowrule {
    name = opacity-seahorse
    match:class = ^(seahorse)$
    opacity = 0.9 0.8
}
windowrule {
    name = opacity-pip
    match:title = ^(Picture-in-Picture)$
    opacity = 0.95 0.75
}

# SIZE
windowrule {
    name = size-kool-cheat
    match:tag = KooL_Cheat*
    size = 65% 90%
}
windowrule {
    name = size-wallpaper
    match:tag = wallpaper*
    size = 70% 70%
}
windowrule {
    name = size-settings
    match:tag = settings*
    size = 70% 70%
}
windowrule {
    name = size-im-whatsapp
    match:class = ^([Ww]hatsapp-for-linux|ZapZap|com.rtosta.zapzap)$
    size = 60% 70%
}
windowrule {
    name = size-im-ferdium
    match:class = ^([Ff]erdium)$
    size = 60% 70%
}

# PINNING
windowrule {
    name = pin-pip
    match:title = ^(Picture-in-Picture)$
    pin = on
}

# windowrule - extras
windowrule {
    name = aspect-pip
    match:title = ^(Picture-in-Picture)$
    #keepaspectratio = on
}

# BLUR & FULLSCREEN
windowrule {
    name = games-blur-fs
    match:tag = games*
    #noblur = on
    fullscreen = on
}

# LAYER RULES
layerrule {
    name = rofi-blur
    match:namespace = rofi
    blur = 1
    ignore_alpha = 1
}
layerrule {
    name = notifications-blur
    match:namespace = notifications
    blur = 1
    ignore_alpha = 1
}
